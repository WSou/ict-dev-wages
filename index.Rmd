---
title: "BLS Wichita Software Developer Salaries"
output:
  html_document:
    df_print: paged
---
## Goals & Motivation

## Data Sources
RPPs https://www.bea.gov/data/prices-inflation/regional-price-parities-state-and-metro-area
BLS (wichita link) - https://www.bls.gov/oes/current/oes_48620.htm currently, 'current' likely to be replaced with '2018'

> The OES survey is a cooperative effort between BLS and the State Workforce Agencies (SWAs). BLS funds the survey and provides the procedures and technical support, while the State Workforce Agencies collect most of the data. OES estimates are constructed from a sample of about 1.2 million establishments. Each year, two semiannual panels of approximately 200,000 sampled establishments are contacted, one panel in May and the other in November. Responses are obtained by mail, Internet or other electronic means, email, telephone, or personal visit. The May 2017 estimates are based on responses from six semiannual panels collected over a 3-year period: May 2017, November 2016, May 2016, November 2015, May 2015, and November 2014. The overall national response rate for the six panels, based on the 50 states and the District of Columbia, is 72 percent based on establishments and 68 percent based on weighted sampled employment. The unweighted sampled employment of 82 million across all six semiannual panels represents approximately 58 percent of total national employment.

## Analysis

```{r setup, include=FALSE}
source(paste0(getwd(), '/analysis.r'))
```

### How many developers are in Wichita?
```{r}
location_data %>%
  filter(Location %in% peer_locations) %>%
  select(Location, TotalEmployment, Per1000Jobs) %>%
  mutate(TotalEmployment = comma(TotalEmployment)) %>%
  mutate(Per1000Jobs = force_digits(Per1000Jobs, 1)) %>%
  arrange(desc(Per1000Jobs))
```
where "developer" is defined as one of the following:
```{r}
occupations
```

### What % of Wichita's labor market is the dev community?
% of employment:
```{r}
valueToPctStr(pull(location_data %>% filter(Location == 'Wichita, KS'), TotalEmployment) / wichita$TotalEmployment)
```

% of total salary dollars:
```{r}
valueToPctStr(pull(location_data %>% filter(Location == 'Wichita, KS'), TotalSalary) / wichita$TotalSalary)
```

### Does Wichita have a dev shortage?
```{r}
plot_per1000ByLocation
```

Yes. Wichita's developer density is:
```{r}
ict_density <- location_data %>% filter(Location == 'Wichita, KS') %>% pull(Per1000Jobs)
nat_density <- location_data %>% filter(Location == 'National') %>% pull(Per1000Jobs)

ict_density_comp <- ict_density / nat_density
percent(ict_density_comp) # ICT density as a % of national density
```


### How much economic value would addressing this shortage generate?
```{r}
ict_multiplier_to_match_national <- 1 / ict_density_comp
ict_base_data <- location_data %>% filter(Location == 'Wichita, KS')
ict_current_devs <- ict_base_data %>% pull(TotalEmployment)

incremental_devs <- (ict_multiplier_to_match_national - 1) * ict_current_devs
incremental_devs
```

```{r}
ict_mean_dev_salary <- ict_base_data %>% pull(MeanSalary)
ict_mean_dev_salary
```

```{r}
ict_mean_dev_salary * incremental_devs / 1000000
```


### How do the salary ranges compare to the salary survey?

There is no perfect way to compare the ranges, despite having percentile information from BLS, because we can't aggregate them into our overall developer category. We could compare by role -- web developer, for example -- but that increases the estimation error and probably creates more problems than it solves.

For a simple comparison, the mean salary from the salary surveys were $68,640 and $77,380 for 2017 and 2018, respectively, compared to a mean salary from the BLS data of:
```{r}
mean_salary <- location_data %>% filter(Location == wichita_area_name) %>% pull(MeanSalary)
mean_salary
```

This represents a difference of
```{r}
valueToPctStr(mean_salary / 68640 - 1)
```
and
```{r}
valueToPctStr(mean_salary / 77380 - 1)
```

relative to the 2017 and 2018 survey figures, respectively.


### How does the average Wichita dev salary compare to regional peers, RPP adjusted?
```{r}
plot_rppAdjustedSalaryByLocation
```

Note the RPP values are from 2016 while the salary values are from 2018. Since we are comparing on an MSA relative basis, this difference is negligible.

### How does the average Wichita dev salary compare to tech hubs, RPP adjusted?
plot_per1000ByLocation_all

```{r}
plot_per1000ByLocation_all
```

```{r}
plot_rppAdjustedSalaryByLocation_all
```

(Ideally, nationally, but be careful with applying person-weighted RPPs to developer-weighted average income figures. I.e., if devs tend to live in high RPP areas, using the national RPP doesn't make sense.)

### Does Wichita have a different mix of developer titles compared to peer cities?


## Conclusion
